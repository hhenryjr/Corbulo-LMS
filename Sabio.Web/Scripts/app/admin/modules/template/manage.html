<div class="content-header">
    <div class="header-section">
        <h1>
            <i class="fa fa-globe"></i><strong>{{modules.title}}</strong><br><small>Learning Command System</small>
        </h1>
    </div>
</div>

<div class="breadcrumb breadcrumb-top">

    <button id="addNew" class="btn btn-sm btn-primary" ng-click="modules.backToList()"><i class="fa"></i><strong>Back to Modules List</strong></button>

</div>



<!-- Grid Blocks -->
<div class="block">
    <!-- Grid Blocks Title -->
    <div class="block-title"><h2><strong>Modules</strong></h2></div>
    <!-- END Grid Blocks Title -->
    <!-- Grid Blocks Content -->
    <div class="row">
        <div class="col-sm-6">
            <!-- Block 1 -->
            <div class="block">
                <uib-tabset>
                    <uib-tab heading="Module Details">
                        <hr />
                        <form id="modulesForm" name="modules.modulesForm" ng-submit="modules. ()" class="form-horizontal form-bordered" novalidate>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="modName">Module Name</label>
                                <div class="col-md-9">
                                    <input type="text"
                                           id="modName"
                                           name="modName"
                                           placeholder="Enter Module Name"
                                           required
                                           ng-required="true"
                                           ng-model="modules.details.moduleName"
                                           class="form-control ng-class:{'error': modules.showFormErrors && !modules.modulesForm.modName.$valid}"
                                           minlength="2"
                                           maxlength="50">
                                    <div role="alert" class="help-inline error">
                                        <span class="error" ng-show="modules.showFormErrors && modules.modulesForm.modName.$error.required">A Module name is Required</span>
                                        <span class="error" ng-show="modules.showFormErrors && modules.modulesForm.modName.$error.minlength">Too short! The Module name must be at least 2 characters</span>
                                        <span class="error" ng-show="modules.showFormErrors && modules.modulesForm.modName.$error.maxlength">Too long! The Module name must be 50 characters or less</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-3 control-label" for="modLab">Labs</label>
                                <div class="col-md-9">
                                    <div class="input-group">
                                        <textarea id="modLab"
                                                  rows="2"
                                                  placeholder="Enter the Labs for the Module"
                                                  name="modLab"
                                                  ng-model="modules.details.labs"
                                                  class="form-control ng-class:{'error': modules.showFormErrors && !modules.modulesForm.modLab.$valid}"
                                                  required
                                                  style="width: 317.625px;"
                                                  ng-required="true"
                                                  minlength="5"
                                                  maxlength="4000"></textarea>
                                        <div role="alert" class="help-inline error">
                                            <span class="error " ng-show="modules.showFormErrors && modules.modulesForm.modLab.$error.required">Labs are Required</span>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-3 control-label" for="reqReading">Required Reading</label>
                                <div class="col-md-9">
                                    <div class="input-group">
                                        <textarea id="reqReading"
                                                  rows="2"
                                                  name="reqReading"
                                                  placeholder="Enter the Required Readings for this Module"
                                                  ng-model="modules.details.requiredReading"
                                                  class="form-control ng-class:{'error': modules.showFormErrors && !modules.modulesForm.reqReading.$valid}"
                                                  required
                                                  style="width: 317.625px;"
                                                  ng-required="true"
                                                  minlength="5"
                                                  maxlength="4000"></textarea>
                                        <div role="alert" class="help-inline error">
                                            <span class="error " ng-show="modules.showFormErrors && modules.modulesForm.reqReading.$error.required">You Need to Enter the Required Readings.</span>
                                            <span class="error " ng-show="modules.showFormErrors && modules.modulesForm.reqReading.$error.minlength">Too short! Required Reading must be at least 5 characters</span>
                                            <span class="error " ng-show="modules.showFormErrors && modules.modulesForm.reqReading.$error.maxlength">Too long! Required Reading must be 50 characters or less</span>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-3 control-label" for="modHomework">Homework</label>
                                <div class="col-md-9">
                                    <div class="input-group">
                                        <textarea id="modHomework"
                                                  rows="2"
                                                  name="modHomework"
                                                  placeholder="Enter the Homework for the Module"
                                                  ng-model="modules.details.homework"
                                                  class="form-control ng-class:{'error': modules.showFormErrors && !modules.modulesForm.modHomework.$valid}"
                                                  required
                                                  style="width: 317.625px;"
                                                  ng-required="true"
                                                  minlength="5"
                                                  maxlength="4000"></textarea>
                                        <div role="alert" class="help-inline error">
                                            <span class="error " ng-show="modules.showFormErrors && modules.modulesForm.modHomework.$error.required">You Need to Enter the Homework.</span>
                                            <span class="error " ng-show="modules.showFormErrors && modules.modulesForm.modHomework.$error.minlength">Too short! Homework must be at least 5 characters</span>
                                            <span class="error " ng-show="modules.showFormErrors && modules.modulesForm.modHomework.$error.maxlength">Too long! Homework Reading must be 50 characters or less</span>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-3 control-label" for="modDescription">Description</label>
                                <div class="col-md-9">
                                    <div class="input-group">
                                        <textarea id="modDescription"
                                                  rows="2"
                                                  name="modDescription"
                                                  placeholder="Enter a Description for the Module"
                                                  ng-model="modules.details.description"
                                                  class="form-control ng-class:{'error': modules.showFormErrors && !modules.modulesForm.modDescription.$valid}"
                                                  required
                                                  style="width: 317.625px;"
                                                  ng-required="true"
                                                  minlength="5"
                                                  maxlength="4000"></textarea>
                                        <div role="alert" class="help-inline error">
                                            <span class="error " ng-show="modules.showFormErrors && modules.modulesForm.modDescription.$error.required">You Need to Enter the Description for this Module.</span>
                                            <span class="error " ng-show="modules.showFormErrors && modules.modulesForm.modDescription.$error.minlength">Too short! The Description must be at least 5 characters</span>
                                            <span class="error " ng-show="modules.showFormErrors && modules.modulesForm.modDescription.$error.maxlength">Too long! The Description must be 50 characters or less</span>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-10 col-md-offset-1">
                                    <input type="submit"
                                           id="addWikiPages"
                                           class="btn btn-sm btn-primary"
                                           ng-show="modules.addModules"
                                           value="Add WikiPages" />
                                    <input type="submit"
                                           id="updateModule"
                                           class="btn btn-sm btn-primary"
                                           value="Update Module"
                                           ng-click="modules.addModules"
                                           ng-show="modules.editModules" />
                                    <button type="reset"
                                            id="resetForm"
                                            class="btn btn-sm btn-warning"
                                            ng-click="modules.resetModulesForm($event)">
                                        <i class="fa fa-repeat"></i> Reset Form
                                    </button>
                                </div>
                            </div>
                        </form>

                    </uib-tab>
                    <uib-tab heading="Module WikiPage Content" active="modules.activeTab" disable="modules.addWiki">
                        <table class="table table-striped table-vcenter">

                            <tbody id="tableBody">
                                <tr class="text-center" ng-repeat="module in modules.moduleWikis">

                                    <td>{{module.name}}

                                </tr>
                            </tbody>
                        </table>

                    </uib-tab>

                </uib-tabset>
            </div>
            <!-- END Block 1 -->
        </div>

        <div class="col-sm-6">
            <!-- Block 2 -->
            <div class="block">
                <div class="block-title"><h4>Add Wiki Pages</h4></div>
                <hr />

                <div ng-show="!modules.modulesForm.$valid">
                    <strong>Accomplish Module Details form to Add wikipages </strong>
                    <hr />
                </div>

                <ul class="list-group" ng-show="modules.modulesForm.$valid">
                    <li class="list-group-item" ng-repeat="(key, value) in modules.wPagelist">
                        <input type="checkbox" class="pull-right"
                               checklist-model="modules.chosen.Roles" checklist-value="value"
                               ng-click="modules.CheckBoxClicked(value, checked, key)">
                        {{key}}
                    </li>
                </ul>
            </div>
            <!-- END Block 2 -->
        </div>
    </div>
    <!-- END Grid Blocks -->

    <div>
        <div class="row">
            <a role="button" style="margin-right: 90px;margin-bottom:20px" class="btn btn-success pull-right" ng-click="modules.backToList()">Back to User List</a>
        </div>
    </div>


</div>
<!-- END Grid Blocks Block -->